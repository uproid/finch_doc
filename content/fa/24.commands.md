---
doc_meta:
    group: "قابلیت‌های پیشرفته"
    icon: "ph-bold ph-terminal"
---
## راهنمای دستورات (Commands)

به راهنمای دستورات فینچ خوش آمدید! این راهنما شما را با مراحل استفاده از دستورات در برنامه فینچ آشنا می‌کند. چه توسعه‌دهنده حرفه‌ای باشید یا تازه‌کار، فینچ ابزارهای قدرتمندی برای ساده‌سازی توسعه برنامه‌های سمت سرور ارائه می‌دهد.

## افزودن دستورات سفارشی

می‌توانید دستورات سفارشی به برنامه فینچ خود اضافه کنید. این دستورات می‌توانند برای انجام کارهای مختلف مانند مهاجرت پایگاه داده، مدیریت زبان و غیره استفاده شوند. برای افزودن دستور سفارشی باید از متد `addCommand` استفاده کنید. مثال:

```dart
app.commands.add(
  CappController('example', options: [
    CappOption(
      name: 'test',
      shortName: 't',
      description: 'یک گزینه نمونه',
    ),
  ], run: (c) async {
    if (c.existsOption('test')) {
      CappConsole.writeTable(
        [
          ['ستون ۱', 'ستون ۲', 'ستون ۳'],
          ...List.filled(5, ['داده ۱', 'داده ۲', 'داده ۳'])
        ],
        dubleBorder: true,
        color: CappColors.warning,
      );
    }

    return CappConsole(
      'این یک دستور نمونه از Finch App است! زمان: ${DateTime.now()}',
      CappColors.success,
    );
  }),
);
```

### نکته:

`Capp` یک پکیج برای مدیریت ساده دستورات در برنامه شماست. می‌توانید با این پکیج دستورات را به برنامه خود اضافه کنید. برای اطلاعات بیشتر به [Capp](https://pub.dev/packages/capp) مراجعه کنید.

### اجرای دستور پس از راه‌اندازی سرور

می‌توانید پس از راه‌اندازی سرور یک دستور اجرا کنید. مثلاً می‌توانید پس از راه‌اندازی سرور دستور مهاجرت پایگاه داده را اجرا کنید. برای این کار باید از متد `runCommand` استفاده کنید. مثال:

```shell
dart run example/lib/app.dart example --test
```

در این مثال `example` نام دستور و `--test` گزینه‌ای است که می‌خواهیم به دستور ارسال کنیم.

نکته: باید آرگومان‌های تابع main را به متد `runCommand` ارسال کنید. مثلاً اگر گزینه `--port` در تابع main دارید باید آن را به `runCommand` نیز ارسال کنید. مثال:

```dart
/// app.dart

final app = FinchApp(configs: configs);

void main([List<String>? args]) async {
   ...
   app.start(args);
}
```