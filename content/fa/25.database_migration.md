---
@meta:
{
    "group": "پایگاه داده",
    "icon": "ph-duotone ph-arrows-clockwise"
}
---
# راهنمای مهاجرت پایگاه داده

## مهاجرت MySQL و SQLite

فینچ راه ساده‌ای برای مدیریت مهاجرت پایگاه داده فراهم می‌کند. می‌توانید از دستور `migrate` (برای mysql) یا `migrate_sqlite` (برای sqlite) برای مدیریت مهاجرت‌های پایگاه داده خود استفاده کنید. این دستور گزینه‌های زیر را ارائه می‌دهد:

- `--init` یا `-i`: مقداردهی اولیه جدول مهاجرت و اجرای تمام مهاجرت‌های معلق
- `--create` یا `-c`: ایجاد یک فایل مهاجرت جدید
- `--name` یا `-n`: نام فایل مهاجرت هنگام ایجاد
- `--rollback` یا `-r`: بازگردانی آخرین مهاجرت‌ها
- `--list` یا `-l`: نمایش لیست تمام فایل‌های مهاجرت و وضعیت آن‌ها

این دستورات پس از اجرای برنامه (یا هنگام اجرای برنامه در حالت کنسول) در دسترس هستند. می‌توانید دستور `migrate` را در فایل `app.dart` خود اجرا کنید. مثال:

```shell
dart run example/lib/app.dart migrate --init
```

## افزودن فایل مهاجرت جدید

می‌توانید با استفاده از گزینه `--create` یا `-c` یک فایل مهاجرت جدید اضافه کنید. مثال:

```shell
Finch> migrate --create --name "add_users_table"
```

## قالب فایل مهاجرت

قالب فایل مهاجرت یک فایل sql ساده است که شامل دو بخش می‌باشد:

```sql
-- [تاریخ و زمان]
-- [MySQL | SQLite] فایل مهاجرت
-- نام: [نام مهاجرت]
-- ## نسخه جدید:

   [در اینجا کد SQL نسخه جدید قرار می‌گیرد]

-- ## بازگردانی:
  
   [در اینجا کد SQL بازگردانی قرار می‌گیرد]

```



