---
@meta:
{
    "group": "数据库",
    "icon": "ph-duotone ph-arrows-clockwise"
}
---
# 数据库迁移指南

## Mysql 和 SQLite 迁移

Finch 提供了一种简单的方法来管理数据库迁移。您可以使用 `migrate`（用于 mysql）或 `migrate_sqlite`（用于 sqlite）命令来管理数据库迁移。此命令提供以下选项：

- `--init` 或 `-i`：初始化迁移表并执行所有待处理的迁移。
- `--create` 或 `-c`：创建新的迁移文件模板。
- `--name` 或 `-n`：创建时迁移文件的名称。
- `--rollback` 或 `-r`：回滚最近的迁移。
- `--list` 或 `-l`：列出所有迁移文件及其状态。

这些命令在您运行应用程序后（或在控制台模式下运行应用程序时）可用。您可以在 `app.dart` 文件中使用 `migrate` 命令。例如：

```shell
dart run example/lib/app.dart migrate --init
```

## 添加新的迁移文件

您可以使用 `--create` 或 `-c` 选项添加新的迁移文件。例如：

```shell
Finch> migrate --create --name "add_users_table"
```

## 迁移文件模板

迁移文件模板是一个简单的 sql 文件，包含两个部分：

```sql
-- [日期 & 时间]
-- [MySQL | SQLite] 迁移文件
-- 名称: [迁移名称]
-- ## 新版本:

   [此处编写新版本 SQL 代码]

-- ## 回滚:
  
   [此处编写回滚 SQL 代码]


```



